/*!
 * Image Loader Angular v1.1.0
 * (c) 2016 Sepehr Amoor Pour
 * Released under the MIT License.
 */
angular.module("sap.imageloader",[]).factory("ImageLoader",["$q",function(e){return{loadImages:function(r,a){a="undefined"!=typeof a?a:"src";try{var t=[];if(!Array.isArray(r))throw new TypeError("No image list provided");for(var o=0;o<r.length;o++){var n=this.loadImage(r[o],a);t.push(n)}return e.all(t)}catch(c){console.error(c)}},loadImage:function(r,a){a="undefined"!=typeof a?a:"src";var t=e.defer(),o=new Image;o.onload=function(){"object"==typeof r?r[a]=o.src:"string"==typeof r&&(r=o.src),t.resolve(r)};try{if("object"==typeof r)o.src=r[a];else{if("string"!=typeof r)throw new TypeError("No image provided");o.src=r}}catch(n){t.reject(n),console.error(n)}return t.promise}}}]).directive("loadedImage",["ImageLoader",function(e){return{scope:{src:"&src"},link:function(e,r,a){var t=new Image;for(attributeName in a)"src"!==attributeName&&("class"===attributeName?t.className=a["class"]:t[attributeName]=a[attributeName]);t.onload=function(){r.append(t)},t.src=e.src()}}}]);